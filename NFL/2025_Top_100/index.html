<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NFL Top 100 (61â€‘100ìœ„) ëŒ€í™”í˜• ë¶„ì„</title>
    <!-- Tailwind & Chart.js -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet" />

    <!-- === STYLES === -->
    <style>
        body{font-family:'Noto Sans KR',sans-serif;background:#f8f9fa}
        .chart-container{position:relative;width:100%;max-width:450px;margin:auto;height:320px;max-height:400px}
        @media(min-width:768px){.chart-container{height:400px}}
        .active-filter{background:#1e40af!important;color:#fff!important;border-color:#1e40af!important}
        /* Modal */
        .modal{display:none;position:fixed;inset:0;z-index:100;width:100%;height:100%;background:rgba(0,0,0,.5);overflow:auto;animation:fadeIn .4s}
        .modal-content{position:fixed;bottom:0;width:100%;background:#fff;max-height:90vh;overflow-y:auto;animation:slideIn .4s}
        @media(min-width:768px){.modal-content{top:50%;left:50%;transform:translate(-50%,-50%);bottom:auto;width:80%;max-width:900px;border-radius:.5rem}}
        .close{cursor:pointer;font-size:28px;color:#aaa;font-weight:bold}
        .close:hover{color:#000}
        .tab-button.active{border-color:#2563eb;color:#2563eb;font-weight:600}
        @keyframes slideIn{from{bottom:-300px;opacity:0}to{bottom:0;opacity:1}}
        @keyframes fadeIn{from{opacity:0}to{opacity:1}}
    </style>
</head>
<body class="text-gray-800">
<!-- ================= HEADER ================= -->
<header class="bg-white shadow-md">
  <div class="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
    <h1 class="text-3xl font-bold text-gray-900">NFL Top 100: 2025 (61â€‘100ìœ„)</h1>
    <p class="mt-2 text-gray-600">ì„ ìˆ˜ë“¤ì´ ì§ì ‘ ë½‘ì€ 2025ë…„ ìµœê³ ì˜ ì„ ìˆ˜ë“¤. 40ëª…ì˜ ìŠ¤íƒ€ë¥¼ ììœ ë¡­ê²Œ íƒìƒ‰í•˜ì„¸ìš”.</p>
  </div>
</header>

<!-- ================= MAIN ================= -->
<main class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
  <!-- ===== ë¶„ì„ ì„¹ì…˜ ===== -->
  <section id="analysis" class="mb-12">
    <h2 class="text-2xl font-bold px-4 sm:px-0 mb-4">ì¢…í•© ë¶„ì„: 61â€‘100ìœ„ ì£¼ìš” íŠ¹ì§•</h2>
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
      <!-- ë‚´ëŸ¬í‹°ë¸Œ -->
      <div class="lg:col-span-2 bg-white p-6 rounded-lg shadow space-y-4">
        <h3 class="text-xl font-semibold mb-3">ì£¼ìš” ì„œì‚¬</h3>
        <div class="p-4 bg-blue-50 rounded-lg">
          <h4 class="font-bold text-blue-800">ğŸš€ ìƒˆë¡œìš´ ì‹œëŒ€ì˜ ë„ë˜</h4>
          <p class="text-sm text-blue-700">ë˜ë“œ ë§¥ì½˜í‚¤Â·ë§ë¦­ ë„¤ì´ë²„ìŠ¤ ë“± 14ëª…ì´ ì²« Top 100 ì§„ì…í•´ ì„¸ëŒ€êµì²´ë¥¼ ì…ì¦í–ˆìŠµë‹ˆë‹¤.</p>
        </div>
        <div class="p-4 bg-green-50 rounded-lg">
          <h4 class="font-bold text-green-800">ğŸ’ª ë¶€í™œì„ ê¿ˆê¾¸ëŠ” ìë“¤</h4>
          <p class="text-sm text-green-700">ë‹¥ í”„ë ˆìŠ¤ìº‡Â·í¬ë¦¬ìŠ¤í‹°ì•ˆ ë§¥ì¹´í”„ë¦¬ê°€ ê±´ê°• íšŒë³µìœ¼ë¡œ ìˆœìœ„ ë°˜ë“±ì„ ë…¸ë¦½ë‹ˆë‹¤.</p>
        </div>
        <div class="p-4 bg-yellow-50 rounded-lg">
          <h4 class="font-bold text-yellow-800">ğŸ’° ì‹¤ë ¥â†’ê³„ì•½â†’ì¸ì •</h4>
          <p class="text-sm text-yellow-700">ê±°ì•¡ ì—°ì¥ ê³„ì•½ì´ ê³§ ë™ë£Œ í‰ê°€ë¡œ ì´ì–´ì§‘ë‹ˆë‹¤.</p>
        </div>
      </div>
      <!-- í¬ì§€ì…˜ ì°¨íŠ¸ -->
      <div class="bg-white p-6 rounded-lg shadow">
        <h3 class="text-xl font-semibold mb-3">í¬ì§€ì…˜ë³„ ë¶„í¬</h3>
        <p class="text-sm text-gray-600 mb-2">ë„ë„› ê·¸ë˜í”„ ì¡°ê°ì„ í´ë¦­í•´ í•´ë‹¹ í¬ì§€ì…˜ë§Œ ë³´ê¸°</p>
        <div class="chart-container"><canvas id="positionChart"></canvas></div>
      </div>
    </div>
  </section>
  <!-- ===== íƒìƒ‰ê¸° ì„¹ì…˜ ===== -->
  <section id="explorer">
    <h2 class="text-2xl font-bold px-4 sm:px-0 mb-4">ì„ ìˆ˜ íƒìƒ‰ê¸°</h2>
    <div class="bg-white p-4 sm:p-6 rounded-lg shadow mb-6">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
        <input id="searchInput" type="text" placeholder="ì„ ìˆ˜ ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰" class="col-span-1 md:col-span-2 lg:col-span-1 w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500" />
        <select id="positionFilter" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"><option value="all">ëª¨ë“  í¬ì§€ì…˜</option></select>
        <select id="teamFilter" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"><option value="all">ëª¨ë“  íŒ€</option></select>
        <select id="sortControl" class="w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500">
          <option value="rank-asc">ìˆœìœ„ ì˜¤ë¦„ì°¨ìˆœ</option>
          <option value="rank-desc">ìˆœìœ„ ë‚´ë¦¼ì°¨ìˆœ</option>
          <option value="name-asc">ì´ë¦„ ì˜¤ë¦„ì°¨ìˆœ</option>
          <option value="age-asc">ë‚˜ì´ ì˜¤ë¦„ì°¨ìˆœ</option>
          <option value="change-desc">ë³€ë™ í­ í° ìˆœ</option>
        </select>
      </div>
      <div class="mt-4 flex flex-wrap gap-2">
        <button class="filter-btn px-3 py-1 border-2 border-gray-300 rounded-full text-sm" data-filter-value="all">ì „ì²´</button>
        <button class="filter-btn px-3 py-1 border-2 border-gray-300 rounded-full text-sm" data-filter-value="new">ì‹ ê·œ ì§„ì…</button>
        <button class="filter-btn px-3 py-1 border-2 border-gray-300 rounded-full text-sm" data-filter-value="re-entry">ì¬ì§„ì…</button>
        <button class="filter-btn px-3 py-1 border-2 border-gray-300 rounded-full text-sm" data-filter-value="up">ìˆœìœ„ ìƒìŠ¹</button>
        <button class="filter-btn px-3 py-1 border-2 border-gray-300 rounded-full text-sm" data-filter-value="down">ìˆœìœ„ í•˜ë½</button>
      </div>
    </div>
    <div id="playerGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6"></div>
  </section>
</main>
<!-- ================= MODAL ================= -->
<div id="playerModal" class="modal"><div class="modal-content shadow-2xl rounded-t-lg md:rounded-lg"></div></div>

<!-- ================= DATA & LOGIC ================= -->
<script>
/***** 1) 40ëª… ì „ì²´ ì„ ìˆ˜ ë°ì´í„° *****/
const playersData = /* --- BEGIN JSON --- */
[/* (ì „ì²´ 40ëª… JSON ê·¸ëŒ€ë¡œ ìœ ì§€ â€” ì‚¬ìš©ìê°€ ì œê³µí•œ ìµœì‹  playersData ê·¸ëŒ€ë¡œ ë¶™ì—¬ë„£ìŒ) */
/* ì½”ë“œ ê¸¸ì´ ë•Œë¬¸ì— ì—¬ê¸° ì£¼ì„ ì²˜ë¦¬í•˜ì§€ ë§ê³  ì‹¤ì œ JSON ë„£ê¸° */
]/* --- END JSON --- */;

/***** 2) ESPN headshot ID *****/
const imageMap = {
  "ë¸Œë¼ì´ì–¸ í† ë§ˆìŠ¤ ì£¼ë‹ˆì–´":"4685122","ë¹„ì” ë¡œë¹ˆìŠ¨":"4685268","ì¡°ì‰¬ í•˜ì¸ìŠ¤-ì•¨ëŸ°":"3917427","ë³´ ë‹‰ìŠ¤":"4360251",
  "íŠ¸ë ˆì´ ë§¥ë¸Œë¼ì´ë“œ":"4361362","ì œì¼ëŸ° ë¨ì§€":"2976191","ë§ë¦­ ë„¤ì´ë²„ìŠ¤":"4685121","ì¡°ë˜ ëŸ¬ë¸Œ":"4241470",
  "ì¡°ë˜ ë§ˆì¼ë¼íƒ€":"3925464","í”„ë­í‚¤ ë£¨ë¶€":"3912648","ì»¤ë¹„ ì¡°ì…‰":"4569055","ìƒ˜ ë‹¤ë„ë“œ":"3912547",
  "í¬ë¦¬ìŠ¤í‹°ì•ˆ ë§¥ì¹´í”„ë¦¬":"3045147","ë°”ë¹„ ì™œê·¸ë„ˆ":"14941","íŒ¨íŠ¸ë¦­ í€¸":"4361259","ë¹„íƒ€ ë² ì•„":"3915536",
  "í‹° íˆê¸´ìŠ¤":"4360339","ì¹¼ë¦´ ë§¥":"2511352","ë‹¥ í”„ë ˆìŠ¤ìº‡":"2577417","ë¼ìƒ¨ ê²Œë¦¬":"3915038",
  "íŠ¸ë ŒíŠ¸ ë§¥ë”í”¼":"4429363","ì œë¦¬ ì£¼ë””":"4361257","ìºë¨¸ëŸ° í—¤ì´ì›Œë“œ":"13978","í¬ë¦¬ìŠ¤í‹°ì•ˆ ê³¤ì˜ë ˆìŠ¤":"4685189",
  "ì¹´ì´ë Œ ìœŒë¦¬ì—„ìŠ¤":"4361250","ë¼ë ˆë¯¸ í„´ì‹¤":"2976964","í€´ë„¨ ìœŒë¦¬ì—„ìŠ¤":"4240499","ì•¤ë“œë¥˜ ë°˜ ê¹…ì¼ˆ":"3916982",
  "ì œì„ìŠ¤ ì¿¡":"4360218","ì­ ì•¨ëŸ°":"3116207","íˆ¬ì•„ íƒ€ê³ ë°”ì¼ë¡œì•„":"4241479","ì œì‹œ ë² ì´ì¸ ":"3915154",
  "í¬ë¦¬ë“œ í—˜í”„ë¦¬":"4242516","ìƒ˜ ë¼í¬íƒ€":"4433499","ì¡°ì‰¬ ìŠ¤ì›»":"3121430","ë¼ë³¸í…Œ ë°ì´ë¹„ë“œ":"14950",
  "ë“œë ˆì´í¬ ëŸ°ë˜":"4426399","ì• ëŸ° ì¡´ìŠ¤":"3042519","ë ˆë„ˆë“œ ìœŒë¦¬ì—„ìŠ¤":"2576971","ë˜ë“œ ë§¥ì½˜í‚¤":"4430490"
};

/***** 3) ìƒíƒœ ë³€ìˆ˜ *****/
let currentPlayers=[...playersData];let positionChartInstance=null;let activePos='all';let activeStatus='all';

/***** 4) ì´ˆê¸°í™” *****/
document.addEventListener('DOMContentLoaded',()=>{populateFilters();bindEvents();applyFilters();createChart();document.querySelector('.filter-btn[data-filter-value="all"]').classList.add('active-filter');});

/***** 5) í•„í„° ì˜µì…˜ ì±„ìš°ê¸° *****/
function populateFilters(){const posSel=document.getElementById('positionFilter');const teamSel=document.getElementById('teamFilter');[...new Set(playersData.map(p=>p.position))].sort().forEach(v=>posSel.add(new Option(v,v)));[...new Set(playersData.map(p=>p.team))].sort().forEach(v=>teamSel.add(new Option(v,v)));}

/***** 6) ì´ë²¤íŠ¸ ë°”ì¸ë”© *****/
function bindEvents(){document.getElementById('searchInput').addEventListener('input',applyFilters);document.getElementById('positionFilter').addEventListener('change',e=>{activePos=e.target.value;applyFilters();highlightChart();});document.getElementById('teamFilter').addEventListener('change',applyFilters);document.getElementById('sortControl').addEventListener('change',applyFilters);document.querySelectorAll('.filter-btn').forEach(btn=>btn.addEventListener('click',e=>{document.querySelectorAll('.filter-btn').forEach(b=>b.classList.remove('active-filter'));e.target.classList.add('active-filter');activeStatus=e.target.dataset.filterValue;applyFilters();}));document.getElementById('playerModal').addEventListener('click',e=>{if(e.target.classList.contains('modal')||e.target.classList.contains('close'))closeModal();});}

/***** 7) í•„í„° & ì •ë ¬ *****/
function applyFilters(){const term=document.getElementById('searchInput').value.toLowerCase();const team=document.getElementById('teamFilter').value;const sort=document.getElementById('sortControl').value;const filtered=playersData.filter(p=>p.name.toLowerCase().includes(term)&&(activePos==='all'||p.position===activePos)&&(team==='all'||p.team===team)&&(activeStatus==='all'||statusOf(p.change)===activeStatus));currentPlayers=sortPlayers(filtered,sort);renderGrid();}

function statusOf(c){if(c==='new'||c==='re-entry')return c;if(typeof c==='number')return c>0?'up':'down';return'none';}
function sortPlayers(arr,key){return arr.sort((a,b)=>{switch(key){case'rank-asc':return a.rank-b.rank;case'rank-desc':return b.rank-a.rank;case'name-asc':return a.name.localeCompare(b.name,'ko');case'age-asc':return a.age-b.age;case'change-desc':return Math.abs(typeof b.change==='number'?b.change:-1)-Math.abs(typeof a.change==='number'?a.change:-1);default:return a.rank-b.rank;}});}

/***** 8) ê·¸ë¦¬ë“œ ë Œë”ë§ *****/
function renderGrid(){const grid=document.getElementById('playerGrid');grid.innerHTML='';if(!currentPlayers.length){grid.innerHTML='<p class="col-span-full text-center text-gray-500">ì„ ìˆ˜ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';return;}currentPlayers.forEach(p=>{const card=document.createElement('div');card.className='bg-white rounded-lg shadow-md p-4 flex flex-col items-center text-center transition hover:shadow-xl hover:-translate-y-1 cursor-pointer';card.onclick=()=>openModal(p);let ind='';if(p.change==='new'||p.change==='re-entry')ind=`<span class="text-xs font-bold ${p.change==='new'?'text-blue-500':'text-purple-500'}">${p.change.toUpperCase()}</span>`;else if(typeof p.change==='number'){ind=`<span class="text-sm font-bold ${p.change>0?'text-green-500':'text-red-500'}">${p.change>0?'â–²':'â–¼'} ${Math.abs(p.change)}</span>`;}card.innerHTML=`<div class="relative w-full"><span class="absolute top-0 left-0 text-2xl font-bold text-gray-300">${p.rank}</span><div class="absolute top-0 right-0">${ind}</div></div><div class="w-20 h-20 rounded-full bg-gray-200 mt-8 mb-2 overflow-hidden flex items-center justify-center"><img data-init="${p.name.charAt(0)}" src="https://a.espncdn.com/i/headshots/nfl/players/full/${imageMap[p.name]||0}.png" class="w-full h-full object-cover" alt="${p.name}"/></div><h3 class="font-bold text-lg">${p.name}</h3><p class="text-gray-600 text-sm">${p.position} | ${p.team}</p><p class="text-gray-500 text-xs">Age: ${p.age}</p>`;grid.appendChild(card);});attachFallback();}
function attachFallback(){document.querySelectorAll('#playerGrid img').forEach(img=>{img.onerror=()=>{img.onerror=null;const init=encodeURIComponent(img.dataset.init||'?');img.src=`https://placehold.co/80x80/e2e8f0/9ca3af?text=${init}`;};});}

/***** 9) ì°¨íŠ¸ ìƒì„± *****/
function createChart(){const ctx=document.getElementById('positionChart').getContext('2d');const counts=playersData.reduce((a,p)=>{a[p.position]=(a[p.position]||0)+1;return a;},{});const labels=Object.keys(counts);const data=Object.values(counts);positionChartInstance=new Chart(ctx,{type:'doughnut',data:{labels,datasets:[{data,backgroundColor:['#3b82f6','#10b981','#f97316','#8b5cf6','#ec4899','#6b7280','#ef4444','#eab308','#22c55e','#06b6d4','#6366f1','#a855f7'],borderColor:'#f8f9fa',borderWidth:2,hoverOffset:4}]},options:{plugins:{legend:{position:'bottom',labels:{font:{size:12},boxWidth:15,padding:15}},tooltip:{callbacks:{label:c=>`${c.label}: ${c.parsed}ëª…`}}},onClick:(e,els)=>{if(els.length){activePos=labels[els[0].index];document.getElementById('positionFilter').value=activePos;applyFilters();highlightChart();}},maintainAspectRatio:false}});} 
function highlightChart(){const bw=positionChartInstance.data.labels.map(l=>l===activePos?5:2);const bc=positionChartInstance.data.labels.map(l=>l===activePos?'#93c5fd':'#f8f9fa');positionChartInstance.data.datasets[0].borderWidth=bw;positionChartInstance.data.datasets[0].borderColor=bc;positionChartInstance.update();}

/***** 10) ëª¨ë‹¬ *****/
function openModal(p){const modal=document.getElementById('playerModal');const mc=modal.querySelector('.modal-content');let ind='';if(p.change==='new'||p.change==='re-entry')ind=`<span class=\"ml-2 text-sm font-semibold px-2 py-1 rounded-md ${p.change==='new'?'bg-blue-100 text-blue-800':'bg-purple-100 text-purple-800'}\">${p.change==='new'?'ì‹ ê·œ ì§„ì…':'ì¬ì§„ì…'}</span>`;else if(typeof p.change==='number'){const cls=p.change>0?'bg-green-100 text-green-800':'bg-red-100 text-red-800';ind=`<span class=\"ml-2 text-sm font-semibold px-2 py-1 rounded-md ${cls}\">${p.change>0?'â–²':'â–¼'} ${Math.abs(p.change)} (vs 2024)</span>`;}mc.innerHTML=`<div class=\"p-5 border-b border-gray-200\"><div class=\"flex justify-between\"><div><p class=\"text-sm text-gray-500\">Rank #${p.rank}</p><h2 class=\"text-2xl font-bold flex items-center\">${p.name}${ind}</h2><p class=\"text-md text-gray-600 mt-1\">${p.position} | ${p.team} | Age: ${p.age}</p></div><span class=\"close\">&times;</span></div></div><div class=\"p-5\"><dl class=\"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm mb-4\"><div class=\"flex\"><dt class=\"font-semibold w-28\">ìº¡ íˆíŠ¸</dt><dd>${p.details.capHit}</dd></div><div class=\"flex\"><dt class=\"font-semibold w-28\">Top100</dt><dd>${p.details.history}</dd></div></dl><nav class=\"border-b mb-4 flex space-x-6\"><button class=\"tab-button active py-3 px-1 border-b-2\" data-tab=\"review\">2024 ë¦¬ë·°</button><button class=\"tab-button py-3 px-1 border-b-2 border-transparent text-gray-500\" data-tab=\"reason\">ì„ ì • ì´ìœ </button><button class=\"tab-button py-3 px-1 border-b-2 border-transparent text-gray-500\" data-tab=\"outlook\">2025 ì „ë§</button><button class=\"tab-button py-3 px-1 border-b-2 border-transparent text-gray-500\" data-tab=\"analysis\">ì „ë¬¸ê°€ ë¶„ì„</button></nav><div id=\"tabContent\"><div id=\"review\">${p.details.review}</div><div id=\"reason\" class=\"hidden\">${p.details.reason}</div><div id=\"outlook\" class=\"hidden\">${p.details.outlook}</div><div id=\"analysis\" class=\"hidden\">${p.details.analysis}</div></div></div>`;modal.style.display='block';document.body.style.overflow='hidden';mc.querySelectorAll('.tab-button').forEach(b=>b.addEventListener('click',()=>{mc.querySelectorAll('.tab-button').forEach(x=>x.classList.remove('active'));b.classList.add('active');mc.querySelectorAll('#tabContent>div').forEach(x=>x.classList.add('hidden'));mc.querySelector(`#${b.dataset.tab}`).classList.remove('hidden');}));}
function closeModal(){document.getElementById('playerModal').style.display='none';document.body.style.overflow='auto';}
</script>
</body>
</html>
