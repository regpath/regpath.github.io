<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>21ì„¸ê¸° NFL ë³´ì • ìŠ¹ìˆ˜ ìˆœìœ„ ì¸í¬ê·¸ë˜í”½</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f0f2f5;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 50vh;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 500px;
            }
        }
        .gradient-text {
            background: linear-gradient(90deg, #00A6FB, #DC0073);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .kpi-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-200">

    <div class="container mx-auto p-4 md:p-8">

        <header class="text-center my-8 md:my-12">
            <h1 class="text-4xl md:text-6xl font-black gradient-text">ìœ„ëŒ€í•œ ìˆœìœ„ ì¬ì •ë ¬</h1>
            <p class="mt-4 text-lg md:text-xl text-gray-400 max-w-3xl mx-auto">ìŠ¹ë¦¬ ê·¸ ì´ìƒì˜ ê°€ì¹˜: 21ì„¸ê¸° NFLì˜ ì§„ì •í•œ ê°•ìëŠ” ëˆ„êµ¬ì¸ê°€? 'ë³´ì • ìŠ¹ìˆ˜'ë¡œ ë‹¤ì‹œ ì“´ NFL ê³„ê¸‰ë„</p>
        </header>

        <section id="intro" class="my-12">
            <div class="bg-gray-800 rounded-2xl shadow-2xl p-6 md:p-8 max-w-4xl mx-auto text-center">
                <h2 class="text-2xl md:text-3xl font-bold text-white mb-4">ëª¨ë“  ìŠ¹ë¦¬ëŠ” ë™ë“±í•˜ì§€ ì•Šë‹¤</h2>
                <p class="text-gray-300 leading-relaxed">ë‹¨ìˆœ ìŠ¹íŒ¨ ê¸°ë¡ì€ ì´ì•¼ê¸°ì˜ ì ˆë°˜ì— ë¶ˆê³¼í•©ë‹ˆë‹¤. ì´ ë¶„ì„ì€ íŒ€ì˜ ì‹¤ì œ ìŠ¹ìˆ˜ì— ìƒëŒ€íŒ€ì˜ ì „ë ¥, ì¦‰ 'ëŒ€ì§„ìš´(Strength of Schedule, SoS)'ì„ ë°˜ì˜í•œ <b class="text-[#FFBC0A]">'ë³´ì • ìŠ¹ìˆ˜'</b>ë¼ëŠ” ìƒˆë¡œìš´ ì£ëŒ€ë¥¼ ì œì‹œí•©ë‹ˆë‹¤. ì–´ë ¤ìš´ ìƒëŒ€ë¥¼ ì´ê²¨ë‚¸ ìŠ¹ë¦¬ì— ê°€ì‚°ì ì„, ì‰¬ìš´ ìƒëŒ€ë¥¼ êº¾ì€ ìŠ¹ë¦¬ì— ê°ì ì„ ë¶€ì—¬í•˜ì—¬ 2000ë…„ë¶€í„° 2023ë…„ê¹Œì§€ì˜ íŒ€ ì„±ê³¼ë¥¼ ì¬í‰ê°€í•©ë‹ˆë‹¤.</p>
                <div class="mt-6 bg-gray-900 inline-block px-6 py-3 rounded-lg font-mono text-lg text-white">
                    <span class="text-[#00A6FB]">ë³´ì • ìŠ¹ìˆ˜</span> = <span class="text-gray-400">ì‹¤ì œ ìŠ¹ìˆ˜</span> + <span class="text-[#DC0073]">ëŒ€ì§„ìš´(SoS)</span>
                </div>
            </div>
        </section>

        <section id="main-rankings" class="my-12">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-8">21ì„¸ê¸° NFL ê³„ê¸‰ë„ (2000-2023)</h2>
            <div class="overflow-x-auto bg-gray-800 rounded-2xl shadow-lg">
                <table class="min-w-full text-sm text-left">
                    <thead class="bg-gray-700 text-xs text-gray-300 uppercase tracking-wider">
                        <tr>
                            <th scope="col" class="px-4 py-3 text-center">ìˆœìœ„</th>
                            <th scope="col" class="px-4 py-3">íŒ€</th>
                            <th scope="col" class="px-4 py-3 text-center" title="ë³´ì • ìŠ¹ìˆ˜ ì´í•©">ë³´ì • ìŠ¹ìˆ˜</th>
                            <th scope="col" class="px-4 py-3 text-center" title="ì‹¤ì œ ìŠ¹ìˆ˜ ì´í•©">ì‹¤ì œ ìŠ¹ìˆ˜</th>
                            <th scope="col" class="px-4 py-3 text-center" title="ëˆ„ì  ëŒ€ì§„ìš´">ëˆ„ì  SoS</th>
                            <th scope="col" class="px-4 py-3 text-center" title="ì‹¤ì œ ìˆœìœ„ ëŒ€ë¹„ ë³€í™”">ìˆœìœ„ ë³€í™”</th>
                        </tr>
                    </thead>
                    <tbody id="rankings-table-body" class="divide-y divide-gray-700">
                    </tbody>
                </table>
            </div>
        </section>

        <section id="rank-changes" class="my-16">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-8">ê°€ì¥ ê³¼ì†Œ/ê³¼ëŒ€í‰ê°€ëœ íŒ€ì€?</h2>
            <p class="text-center text-gray-400 max-w-2xl mx-auto mb-8">ëŒ€ì§„ìš´(SoS)ì€ íŒ€ì˜ ìˆœìœ„ë¥¼ ê·¹ì ìœ¼ë¡œ ë°”ê¿‰ë‹ˆë‹¤. í—˜ë‚œí•œ ê¸¸ì„ ê±¸ì–´ì˜¨ 'ì§„ì •í•œ ê°•ì'ì™€ ìƒëŒ€ì ìœ¼ë¡œ ì‰¬ìš´ ê¸¸ì„ ê±¸ì–´ì˜¨ 'ìˆ¨ì€ ì•½ì'ë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-gray-800 rounded-2xl shadow-2xl p-6">
                    <h3 class="text-2xl font-bold text-center mb-4 text-green-400">ìˆœìœ„ ìƒìŠ¹ TOP 5 ğŸš€</h3>
                    <div class="chart-container" style="height: 300px; max-height: 40vh;"><canvas id="risersChart"></canvas></div>
                </div>
                <div class="bg-gray-800 rounded-2xl shadow-2xl p-6">
                    <h3 class="text-2xl font-bold text-center mb-4 text-red-400">ìˆœìœ„ í•˜ë½ TOP 5 ğŸ”»</h3>
                    <div class="chart-container" style="height: 300px; max-height: 40vh;"><canvas id="fallersChart"></canvas></div>
                </div>
            </div>
        </section>

        <section id="division-strength" class="my-16">
             <h2 class="text-3xl md:text-4xl font-bold text-center mb-8">21ì„¸ê¸° 'ì£½ìŒì˜ ì¡°'ëŠ” ì–´ë””ì˜€ë‚˜?</h2>
             <p class="text-center text-gray-400 max-w-2xl mx-auto mb-8">ì§€êµ¬ ë‚´ ê²½ìŸì€ íŒ€ì˜ ìš´ëª…ì„ ì¢Œìš°í•©ë‹ˆë‹¤. 2002ë…„ ì§€êµ¬ ì¬í¸ ì´í›„, ì–´ë–¤ ì§€êµ¬ê°€ ê°€ì¥ ì¹˜ì—´í•œ ì „ìŸí„°ì˜€ëŠ”ì§€ ëˆ„ì  SoS í•©ê³„ë¡œ í™•ì¸í•´ ë³´ì„¸ìš”.</p>
            <div class="bg-gray-800 rounded-2xl shadow-2xl p-6">
                <div class="chart-container"><canvas id="divisionSoSChart"></canvas></div>
            </div>
        </section>

        <section id="top-seasons" class="my-16">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-8">ì—­ì‚¬ì— ë‚¨ì„ ì‹œì¦Œë“¤</h2>
            <p class="text-center text-gray-400 max-w-2xl mx-auto mb-8">ë³´ì • ìŠ¹ìˆ˜ë¡œ ë‹¤ì‹œ í‰ê°€í•œ 21ì„¸ê¸° ìµœê³ ì˜ ë‹¨ì¼ ì‹œì¦Œê³¼ ìµœì•…ì˜ ë‹¨ì¼ ì‹œì¦Œì…ë‹ˆë‹¤.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-gray-800 rounded-2xl p-6 shadow-2xl">
                    <h3 class="text-2xl font-bold text-center mb-4 text-amber-300">ğŸ† ìµœê³ ì˜ ì‹œì¦Œ TOP 5</h3>
                    <ul id="best-seasons-list" class="space-y-3"></ul>
                </div>
                <div class="bg-gray-800 rounded-2xl p-6 shadow-2xl">
                    <h3 class="text-2xl font-bold text-center mb-4 text-blue-300">ğŸ¥¶ ìµœì•…ì˜ ì‹œì¦Œ TOP 5</h3>
                    <ul id="worst-seasons-list" class="space-y-3"></ul>
                </div>
            </div>
        </section>

        <footer class="text-center mt-16 py-8 border-t border-gray-700">
            <p class="text-gray-500">ë°ì´í„° ì¶œì²˜: Pro-Football-Reference.com (2000-2023 ì‹œì¦Œ)</p>
            <p class="text-gray-600 text-sm mt-2">ì´ ì¸í¬ê·¸ë˜í”½ì€ ì œê³µëœ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìœ¼ë©°, SVG ë˜ëŠ” Mermaid.jsë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>
        </footer>

    </div>

    <script>
        const rankingData = [
            { rank: 1, team: "New England Patriots", adjWins: 269.8, actualWins: 284, sos: -14.2, change: 0 },
            { rank: 2, team: "Pittsburgh Steelers", adjWins: 258.9, actualWins: 247, sos: 11.9, change: 1 },
            { rank: 3, team: "Baltimore Ravens", adjWins: 249.2, actualWins: 235, sos: 14.2, change: 2 },
            { rank: 4, team: "Green Bay Packers", adjWins: 247.9, actualWins: 248, sos: -0.1, change: -2 },
            { rank: 5, team: "Indianapolis Colts", adjWins: 239.5, actualWins: 240, sos: -0.5, change: -1 },
            { rank: 6, team: "Philadelphia Eagles", adjWins: 230.1, actualWins: 229, sos: 1.1, change: 1 },
            { rank: 7, team: "New Orleans Saints", adjWins: 224.2, actualWins: 221, sos: 3.2, change: 3 },
            { rank: 8, team: "Kansas City Chiefs", adjWins: 222.8, actualWins: 224, sos: -1.2, change: 0 },
            { rank: 9, team: "Seattle Seahawks", adjWins: 219.0, actualWins: 217, sos: 2.0, change: 2 },
            { rank: 10, team: "Dallas Cowboys", adjWins: 218.4, actualWins: 222, sos: -3.6, change: -3 },
            { rank: 11, team: "Denver Broncos", adjWins: 210.8, actualWins: 211, sos: -0.2, change: 1 },
            { rank: 12, team: "San Francisco 49ers", adjWins: 201.2, actualWins: 192, sos: 9.2, change: 4 },
            { rank: 13, team: ["San Diego", "/ LA Chargers"], adjWins: 195.9, actualWins: 196, sos: -0.1, change: 1 },
            { rank: 14, team: "Atlanta Falcons", adjWins: 193.3, actualWins: 195, sos: -1.7, change: -3 },
            { rank: 15, team: "Minnesota Vikings", adjWins: 192.4, actualWins: 196, sos: -3.6, change: -2 },
            { rank: 16, team: "Tennessee Titans", adjWins: 189.6, actualWins: 195, sos: -5.4, change: -3 },
            { rank: 17, team: "Miami Dolphins", adjWins: 182.2, actualWins: 188, sos: -5.8, change: -1 },
            { rank: 18, team: "New York Giants", adjWins: 181.7, actualWins: 189, sos: -7.3, change: -1 },
            { rank: 19, team: "Chicago Bears", adjWins: 175.7, actualWins: 180, sos: -4.3, change: -1 },
            { rank: 20, team: "Carolina Panthers", adjWins: 174.4, actualWins: 176, sos: -1.6, change: 0 },
            { rank: 21, team: "Tampa Bay Buccaneers", adjWins: 171.7, actualWins: 173, sos: -1.3, change: 1 },
            { rank: 22, team: "Cincinnati Bengals", adjWins: 171.6, actualWins: 165, sos: 6.6, change: 2 },
            { rank: 23, team: "Houston Texans", adjWins: 162.7, actualWins: 160, sos: 2.7, change: 1 },
            { rank: 24, team: ["St. Louis", "/ LA Rams"], adjWins: 161.7, actualWins: 166, sos: -4.3, change: -3 },
            { rank: 25, team: "Arizona Cardinals", adjWins: 159.2, actualWins: 158, sos: 1.2, change: 2 },
            { rank: 26, team: "Washington Commanders", adjWins: 157.0, actualWins: 162, sos: -5.0, change: -2 },
            { rank: 27, team: "Las Vegas Raiders", adjWins: 154.5, actualWins: 160, sos: -5.5, change: -2 },
            { rank: 28, team: "Jacksonville Jaguars", adjWins: 149.3, actualWins: 154, sos: -4.7, change: -1 },
            { rank: 29, team: "New York Jets", adjWins: 148.8, actualWins: 161, sos: -12.2, change: -6 },
            { rank: 30, team: "Buffalo Bills", adjWins: 148.6, actualWins: 167, sos: -18.4, change: -7 },
            { rank: 31, team: "Detroit Lions", adjWins: 134.1, actualWins: 140, sos: -5.9, change: 0 },
            { rank: 32, team: "Cleveland Browns", adjWins: 127.7, actualWins: 125, sos: 2.7, change: 0 }
        ];

        const bestSeasons = [
            { rank: 1, year: 2007, team: "New England Patriots", adjWins: 17.8 },
            { rank: 2, year: 2004, team: "Pittsburgh Steelers", adjWins: 16.4 },
            { rank: 3, year: 2020, team: "Baltimore Ravens", adjWins: 15.1 },
            { rank: 4, year: 2005, team: "Pittsburgh Steelers", adjWins: 15.0 },
            { rank: 5, year: 2019, team: "Baltimore Ravens", adjWins: 14.6 },
        ];
        
        const worstSeasons = [
            { rank: 1, year: 2009, team: "St. Louis Rams", adjWins: -16.4 },
            { rank: 2, year: 2008, team: "Detroit Lions", adjWins: -13.1 },
            { rank: 3, year: 2008, team: "St. Louis Rams", adjWins: -13.1 },
            { rank: 4, year: 2004, team: "San Francisco 49ers", adjWins: -11.6 },
            { rank: 5, year: 2017, team: "Cleveland Browns", adjWins: -11.0 },
        ];

        const divisionSoSData = {
            labels: ['AFC North', 'NFC West', 'AFC West', 'NFC South', 'NFC North', 'AFC South', 'NFC East', 'AFC East'],
            datasets: [{
                label: 'ëˆ„ì  SoS í•©ê³„',
                data: [35.4, 8.1, -5.7, -5.9, -10.6, -12.1, -14.8, -39.2],
                backgroundColor: ['#DC0073', '#8931EF', '#00A6FB', '#FFBC0A', '#4ade80', '#fb923c', '#f87171', '#60a5fa'],
                borderColor: '#4b5563',
                borderWidth: 1
            }]
        };

        function formatTeamName(team) {
            return Array.isArray(team) ? team.join('') : team;
        }
        
        function wrapLabel(label, maxLength = 16) {
            if (typeof label !== 'string' || label.length <= maxLength) {
                return label;
            }
            const words = label.split(' ');
            const lines = [];
            let currentLine = '';
            for (const word of words) {
                if ((currentLine + word).length > maxLength) {
                    lines.push(currentLine.trim());
                    currentLine = '';
                }
                currentLine += word + ' ';
            }
            lines.push(currentLine.trim());
            return lines;
        }

        const chartTooltipCallback = {
            plugins: {
                tooltip: {
                    callbacks: {
                        title: function(tooltipItems) {
                            const item = tooltipItems[0];
                            let label = item.chart.data.labels[item.dataIndex];
                            return Array.isArray(label) ? label.join(' ') : label;
                        }
                    }
                },
                legend: {
                    display: false
                }
            }
        };

        document.addEventListener('DOMContentLoaded', () => {
            const tableBody = document.getElementById('rankings-table-body');
            rankingData.forEach(item => {
                const row = document.createElement('tr');
                row.className = 'hover:bg-gray-700 transition-colors duration-200';
                
                let changeColor = 'text-gray-400';
                let changeIcon = 'â—';
                if (item.change > 0) {
                    changeColor = 'text-green-400';
                    changeIcon = `â–² ${item.change}`;
                } else if (item.change < 0) {
                    changeColor = 'text-red-400';
                    changeIcon = `â–¼ ${Math.abs(item.change)}`;
                }

                row.innerHTML = `
                    <td class="px-4 py-3 font-bold text-center text-lg">${item.rank}</td>
                    <td class="px-4 py-3 font-bold text-white">${formatTeamName(item.team)}</td>
                    <td class="px-4 py-3 text-center text-lg font-mono text-[#FFBC0A]">${item.adjWins.toFixed(1)}</td>
                    <td class="px-4 py-3 text-center font-mono text-gray-400">${item.actualWins}</td>
                    <td class="px-4 py-3 text-center font-mono ${item.sos > 0 ? 'text-green-400' : 'text-red-400'}">${item.sos.toFixed(1)}</td>
                    <td class="px-4 py-3 text-center font-bold ${changeColor}">${changeIcon}</td>
                `;
                tableBody.appendChild(row);
            });
            
            const bestList = document.getElementById('best-seasons-list');
            bestSeasons.forEach(s => {
                const li = document.createElement('li');
                li.className = 'flex items-baseline justify-between bg-gray-700/50 p-3 rounded-lg';
                li.innerHTML = `
                    <span class="font-bold text-white">${s.rank}. ${s.year} ${s.team}</span>
                    <span class="font-mono text-[#FFBC0A] font-bold">${s.adjWins.toFixed(1)}</span>
                `;
                bestList.appendChild(li);
            });

            const worstList = document.getElementById('worst-seasons-list');
            worstSeasons.forEach(s => {
                const li = document.createElement('li');
                li.className = 'flex items-baseline justify-between bg-gray-700/50 p-3 rounded-lg';
                li.innerHTML = `
                    <span class="font-bold text-white">${s.rank}. ${s.year} ${s.team}</span>
                    <span class="font-mono text-red-400 font-bold">${s.adjWins.toFixed(1)}</span>
                `;
                worstList.appendChild(li);
            });


            const risers = [...rankingData].filter(t => t.change > 0).sort((a, b) => b.change - a.change).slice(0, 5);
            const fallers = [...rankingData].filter(t => t.change < 0).sort((a, b) => a.change - b.change).slice(0, 5);

            new Chart(document.getElementById('risersChart'), {
                type: 'bar',
                data: {
                    labels: risers.map(t => wrapLabel(formatTeamName(t.team))),
                    datasets: [{
                        label: 'ìˆœìœ„ ìƒìŠ¹í­',
                        data: risers.map(t => t.change),
                        backgroundColor: 'rgba(74, 222, 128, 0.6)',
                        borderColor: 'rgba(74, 222, 128, 1)',
                        borderWidth: 1
                    }]
                },
                options: { ...chartTooltipCallback, indexAxis: 'y', maintainAspectRatio: false, scales: { x: { ticks: { color: '#d1d5db' } }, y: { ticks: { color: '#d1d5db' } } } }
            });

            new Chart(document.getElementById('fallersChart'), {
                type: 'bar',
                data: {
                    labels: fallers.map(t => wrapLabel(formatTeamName(t.team))),
                    datasets: [{
                        label: 'ìˆœìœ„ í•˜ë½í­',
                        data: fallers.map(t => t.change),
                        backgroundColor: 'rgba(248, 113, 113, 0.6)',
                        borderColor: 'rgba(248, 113, 113, 1)',
                        borderWidth: 1
                    }]
                },
                options: { ...chartTooltipCallback, indexAxis: 'y', maintainAspectRatio: false, scales: { x: { ticks: { color: '#d1d5db' } }, y: { ticks: { color: '#d1d5db' } } } }
            });

            new Chart(document.getElementById('divisionSoSChart'), {
                type: 'bar',
                data: divisionSoSData,
                options: {
                    ...chartTooltipCallback,
                    maintainAspectRatio: false,
                    scales: {
                        y: { 
                            beginAtZero: false, 
                            title: { display: true, text: 'ëˆ„ì  SoS í•©ê³„', color: '#d1d5db'},
                            ticks: { color: '#d1d5db' }
                        },
                        x: {
                            title: { display: true, text: 'ì§€êµ¬', color: '#d1d5db'},
                            ticks: { color: '#d1d5db' }
                        }
                    },
                    plugins: {
                         ...chartTooltipCallback.plugins,
                         title: {
                             display: true,
                             text: 'ì§€êµ¬ë³„ ê²½ìŸë ¥ ì§€ìˆ˜ (2002-2023)',
                             color: '#ffffff',
                             font: { size: 18 }
                         }
                    }
                }
            });
        });
    </script>
</body>
</html>
