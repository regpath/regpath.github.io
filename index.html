<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìƒì„±í˜• AI ê¸°ìˆ  ìŠ¤íƒ íƒìƒ‰ê¸°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals with Teal Accent -->
    <!-- Application Structure Plan: A guided learning path structure is used instead of a linear report format. A persistent sidebar navigation allows users to jump between core concepts: API Integration, RAG, and Model Customization. The main content area uses interactive diagrams and toggles to present complex workflows (like the RAG pipeline) and comparisons (Basic vs. Advanced RAG) in a digestible, non-linear way. This design encourages exploration and helps users build a mental model of how these technologies connect, which is more effective for learning than simply reading chapters in order. -->
    <!-- Visualization & Content Choices: 
        - Report Info: RAG Pipeline (6 steps) -> Goal: Organize/Explain -> Viz/Presentation: Interactive HTML/CSS Diagram -> Interaction: Click on a step to reveal its description and code. -> Justification: Visually breaks down a complex process into manageable, explorable parts, improving comprehension over a long text block. -> Library/Method: Vanilla JS + Tailwind CSS.
        - Report Info: Comparison of Fine-tuning Methods (VRAM requirements) -> Goal: Compare -> Viz/Presentation: Bar Chart -> Interaction: Hover to see tooltips with details. -> Justification: A chart provides a much faster and more impactful comparison of quantitative data (VRAM needs) than a text table. -> Library/Method: Chart.js.
        - Report Info: Basic vs. Advanced RAG, LLM vs. VLM Fine-tuning -> Goal: Compare/Organize -> Viz/Presentation: Tabbed content/Toggle buttons -> Interaction: Click a button to switch the displayed content. -> Justification: Keeps the UI clean and allows users to directly compare related concepts within the same view, reducing cognitive load. -> Library/Method: Vanilla JS + Tailwind CSS.
        - Report Info: Code snippets -> Goal: Inform/Enable -> Viz/Presentation: Styled code blocks -> Interaction: "Copy code" button. -> Justification: Improves usability for developers who want to use the code. -> Library/Method: Vanilla JS.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f8f7f4;
            color: #333;
        }
        .nav-link {
            transition: all 0.3s ease;
            transform-origin: left;
        }
        .nav-link.active, .nav-link:hover {
            background-color: #e6f1f1;
            color: #0d7377;
            transform: translateX(5px);
            border-left: 3px solid #0d7377;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .diagram-step {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .diagram-step:hover, .diagram-step.active {
            background-color: #d1e8e2;
            transform: scale(1.03);
        }
        .toggle-btn {
            transition: all 0.3s ease;
        }
        .toggle-btn.active {
            background-color: #0d7377;
            color: white;
        }
        .code-block {
            position: relative;
            background-color: #2d3748;
            color: #e2e8f0;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-top: 1rem;
            font-family: 'Courier New', Courier, monospace;
            max-height: 400px;
            overflow-y: auto;
        }
        .copy-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background-color: #4a5568;
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .copy-btn:hover {
            background-color: #718096;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
    </style>
</head>
<body class="bg-[#f8f7f4]">
    <div class="flex min-h-screen">
        <nav id="sidebar" class="w-64 bg-white p-6 shadow-lg fixed top-0 left-0 h-full transform -translate-x-full md:translate-x-0 transition-transform duration-300 ease-in-out z-30">
            <h1 class="text-2xl font-bold text-[#0d7377] mb-8">GenAI ìŠ¤íƒ íƒìƒ‰ê¸°</h1>
            <ul class="space-y-2">
                <li><a href="#intro" class="nav-link block p-3 rounded-lg font-medium">ğŸš€ ì„œë¡ </a></li>
                <li><a href="#api" class="nav-link block p-3 rounded-lg font-medium">ğŸ”Œ API ì—°ë™</a></li>
                <li><a href="#rag" class="nav-link block p-3 rounded-lg font-medium">ğŸ§  ê²€ìƒ‰ ì¦ê°• ìƒì„± (RAG)</a></li>
                <li><a href="#finetune" class="nav-link block p-3 rounded-lg font-medium">ğŸ› ï¸ ëª¨ë¸ ë§ì¶¤í™” (Fine-tuning)</a></li>
                <li><a href="#comparison" class="nav-link block p-3 rounded-lg font-medium">ğŸ“Š í•µì‹¬ ê¸°ìˆ  ë¹„êµ</a></li>
                <li><a href="#conclusion" class="nav-link block p-3 rounded-lg font-medium">ğŸ ê²°ë¡ </a></li>
            </ul>
        </nav>

        <button id="menu-toggle" class="md:hidden fixed top-4 left-4 z-40 bg-white p-2 rounded-md shadow-lg">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
            </svg>
        </button>

        <main id="main-content" class="flex-1 md:ml-64 p-6 md:p-10 transition-all duration-300 ease-in-out">
            
            <section id="intro" class="content-section space-y-6">
                <h2 class="text-4xl font-bold text-gray-800 border-b-4 border-[#0d7377] pb-2">ì„œë¡ : í˜„ëŒ€ ìƒì„±í˜• AI ê¸°ìˆ  ìŠ¤íƒ</h2>
                <div class="bg-white p-6 rounded-lg shadow">
                    <p class="text-lg text-gray-700 leading-relaxed">
                        ì´ ì¸í„°ë™í‹°ë¸Œ ê°€ì´ë“œëŠ” í˜„ëŒ€ ìƒì„±í˜• AI ê¸°ìˆ ì˜ í•µì‹¬ ì—¬ì •ì„ ì•ˆë‚´í•©ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ëª¨ë¸ì„ ë‹¨ìˆœíˆ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ë„˜ì–´, íŠ¹ì • ëª©ì ì— ë§ê²Œ êµ¬ì¶•í•˜ê³  ìµœì í™”í•˜ëŠ” ê³¼ì •ì„ íƒí—˜í•  ê²ƒì…ë‹ˆë‹¤. ê°€ì¥ ê¸°ë³¸ì ì¸ API í˜¸ì¶œì—ì„œ ì‹œì‘í•˜ì—¬, ëª¨ë¸ì˜ ì§€ì‹ì„ ì™¸ë¶€ ë°ì´í„°ë¡œ í™•ì¥í•˜ëŠ” ê²€ìƒ‰ ì¦ê°• ìƒì„±(RAG), ê·¸ë¦¬ê³  ëª¨ë¸ì˜ í–‰ë™ ìì²´ë¥¼ ë°”ê¾¸ëŠ” ë¯¸ì„¸ì¡°ì •(Fine-tuning)ê¹Œì§€, ê° ê¸°ìˆ ì˜ ì›ë¦¬ì™€ ì‹¤ì œ êµ¬í˜„ì„ ì‹œê°ì ìœ¼ë¡œ í•™ìŠµí•©ë‹ˆë‹¤. ì´ íƒìƒ‰ê¸°ë¥¼ í†µí•´ ìƒì„±í˜• AI ëª¨ë¸ì„ ëŠ¥ë™ì ìœ¼ë¡œ ë‹¤ë£¨ëŠ” ë° í•„ìš”í•œ ê²¬ê³ í•œ ê¸°ì´ˆë¥¼ ë‹¤ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </p>
                </div>
            </section>

            <section id="api" class="content-section space-y-6">
                <h2 class="text-4xl font-bold text-gray-800 border-b-4 border-[#0d7377] pb-2">ğŸ”Œ OpenAI API ì—°ë™</h2>
                <div class="bg-white p-6 rounded-lg shadow">
                     <p class="text-lg text-gray-700 leading-relaxed mb-4">
                       ëŒ€ë¶€ë¶„ì˜ ê°œë°œìëŠ” ì‚¬ì „ í›ˆë ¨ëœ ê±°ëŒ€ ëª¨ë¸ì„ APIë¥¼ í†µí•´ í™œìš©í•©ë‹ˆë‹¤. APIëŠ” ë³µì¡í•œ ë‚´ë¶€ ì‹œìŠ¤í…œì„ ì¶”ìƒí™”í•˜ì—¬, ê°„ë‹¨í•œ ìš”ì²­ë§Œìœ¼ë¡œ ê°•ë ¥í•œ AI ê¸°ëŠ¥ì„ ìì‹ ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì— í†µí•©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê´€ë¬¸ì…ë‹ˆë‹¤. ì´ ì„¹ì…˜ì—ì„œëŠ” íŒŒì´ì¬ì„ ì‚¬ìš©í•˜ì—¬ OpenAI APIì™€ ì—°ë™í•˜ëŠ” ê¸°ë³¸ì ì¸ ë°©ë²•ì„ ì•Œì•„ë´…ë‹ˆë‹¤.
                    </p>
                    <div class="p-4 border border-teal-200 rounded-lg bg-teal-50">
                        <h3 class="font-bold text-xl text-teal-800 mb-2">í•µì‹¬ ê°œë…</h3>
                        <ul class="list-disc list-inside space-y-1 text-gray-700">
                            <li><strong>í† í° (Tokens):</strong> LLMì´ í…ìŠ¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê¸°ë³¸ ë‹¨ìœ„. API ì‚¬ìš©ëŸ‰ì€ í† í° ìˆ˜ë¡œ ê³„ì‚°ë©ë‹ˆë‹¤.</li>
                            <li><strong>ì—”ë“œí¬ì¸íŠ¸ (Endpoints):</strong> íŠ¹ì • AI ê¸°ëŠ¥(ì±„íŒ…, ì„ë² ë”©, ì´ë¯¸ì§€ ìƒì„± ë“±)ì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ ê³ ìœ í•œ ì£¼ì†Œì…ë‹ˆë‹¤.</li>
                            <li><strong>API í‚¤ (API Key):</strong> ì‚¬ìš©ìë¥¼ ì¸ì¦í•˜ê³  ê¶Œí•œì„ í™•ì¸í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ë¹„ë°€ í‚¤ì…ë‹ˆë‹¤. ì½”ë“œì— ì§ì ‘ ë„£ì§€ ë§ê³  í™˜ê²½ ë³€ìˆ˜ë¡œ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ì•ˆì „í•©ë‹ˆë‹¤.</li>
                        </ul>
                    </div>
                     <div class="code-block">
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                        <pre><code>import os
import openai

# í™˜ê²½ ë³€ìˆ˜ì—ì„œ OpenAI API í‚¤ ë¡œë“œ
openai.api_key = os.environ.get("OPENAI_API_KEY")
if not openai.api_key:
    raise ValueError("OPENAI_API_KEY í™˜ê²½ ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.")

# Chat Completions APIì— ìš”ì²­
try:
    response = openai.chat.completions.create(
        model="gpt-3.5-turbo",
        messages=[
            {"role": "system", "content": "You are a helpful assistant."},
            {"role": "user", "content": "íŒŒì´ì¬ìœ¼ë¡œ 'Hello, World!'ë¥¼ ë³´ì—¬ì¤˜."}
        ],
        temperature=0.7, # 0ì— ê°€ê¹Œìš¸ìˆ˜ë¡ ê²°ì •ë¡ ì , 2ì— ê°€ê¹Œìš¸ìˆ˜ë¡ ì°½ì˜ì 
    )
    print(response.choices[0].message.content)
except Exception as e:
    print(f"ì˜¤ë¥˜ ë°œìƒ: {e}")</code></pre>
                    </div>
                </div>
            </section>

            <section id="rag" class="content-section space-y-6">
                <h2 class="text-4xl font-bold text-gray-800 border-b-4 border-[#0d7377] pb-2">ğŸ§  ê²€ìƒ‰ ì¦ê°• ìƒì„± (RAG)</h2>
                <div class="bg-white p-6 rounded-lg shadow">
                    <p class="text-lg text-gray-700 leading-relaxed mb-4">
                        RAGëŠ” LLMì˜ ì§€ì‹ ë‹¨ì ˆ(Knowledge Cut-off)ê³¼ í™˜ê°(Hallucination) í˜„ìƒì„ ê·¹ë³µí•˜ê¸° ìœ„í•œ ê°•ë ¥í•œ íŒ¨ëŸ¬ë‹¤ì„ì…ë‹ˆë‹¤. LLMì´ ë‹µë³€ì„ ìƒì„±í•˜ê¸° ì „, ì™¸ë¶€ì˜ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì§€ì‹ ì†ŒìŠ¤ì—ì„œ ê´€ë ¨ ì •ë³´ë¥¼ ê²€ìƒ‰í•˜ì—¬ í”„ë¡¬í”„íŠ¸ì— í•¨ê»˜ ì œê³µí•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ LLMì€ ìµœì‹  ì •ë³´ì— ê¸°ë°˜í•˜ì—¬ ë” ì •í™•í•˜ê³  ì‹ ë¢°ì„± ìˆëŠ” ë‹µë³€ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </p>
                    <div class="flex justify-center my-4">
                        <div class="space-x-2">
                            <button class="toggle-btn px-4 py-2 rounded-lg font-semibold bg-gray-200 text-gray-700" data-view="basic-rag" data-target="rag">ê¸°ë³¸ RAG</button>
                            <button class="toggle-btn px-4 py-2 rounded-lg font-semibold bg-gray-200 text-gray-700" data-view="advanced-rag" data-target="rag">ê³ ê¸‰ RAG</button>
                        </div>
                    </div>

                    <div id="basic-rag-view" class="rag-view">
                        <h3 class="text-2xl font-bold text-gray-800 mt-6 mb-4">ê¸°ë³¸ RAG íŒŒì´í”„ë¼ì¸</h3>
                        <p class="text-gray-600 mb-6">ì•„ë˜ ë‹¤ì´ì–´ê·¸ë¨ì˜ ê° ë‹¨ê³„ë¥¼ í´ë¦­í•˜ì—¬ ìƒì„¸ ì„¤ëª…ê³¼ ì˜ˆì‹œ ì½”ë“œë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>
                        <div id="rag-diagram" class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 text-center">
                            <!-- Diagram steps will be injected here by JS -->
                        </div>
                        <div id="rag-details" class="mt-6 p-6 bg-gray-50 rounded-lg border border-gray-200 min-h-[200px]">
                            <!-- Details for each step will be shown here -->
                            <p class="text-gray-500">ë‹¤ì´ì–´ê·¸ë¨ì˜ ë‹¨ê³„ë¥¼ ì„ íƒí•˜ì—¬ ìì„¸í•œ ë‚´ìš©ì„ í™•ì¸í•˜ì„¸ìš”.</p>
                        </div>
                    </div>

                    <div id="advanced-rag-view" class="rag-view hidden">
                       <h3 class="text-2xl font-bold text-gray-800 mt-6 mb-4">ê³ ê¸‰ RAG ê¸°ë²•</h3>
                       <div class="grid md:grid-cols-2 gap-6">
                           <div class="p-6 border-l-4 border-teal-500 bg-teal-50 rounded-r-lg">
                               <h4 class="text-xl font-bold text-teal-900 mb-2">ìƒìœ„ ë¬¸ì„œ ë¦¬íŠ¸ë¦¬ë²„ (Parent Document Retriever)</h4>
                               <p class="text-gray-700"><strong>ë¬¸ì œ:</strong> ê²€ìƒ‰ì„ ìœ„í•´ì„  ì‘ì€ ì²­í¬ê°€, LLMì˜ ì´í•´ë¥¼ ìœ„í•´ì„  í° ì²­í¬ê°€ ìœ ë¦¬í•©ë‹ˆë‹¤. <br><strong>í•´ê²°:</strong> ì‘ì€ 'í•˜ìœ„ ì²­í¬'ë¡œ ê²€ìƒ‰ì˜ ì •í™•ë„ë¥¼ ë†’ì´ê³ , LLMì—ê²ŒëŠ” ì´ í•˜ìœ„ ì²­í¬ê°€ ì†í•œ 'ìƒìœ„ ì²­í¬'ì˜ í’ë¶€í•œ ë§¥ë½ì„ ì œê³µí•˜ì—¬ ë‘ ë§ˆë¦¬ í† ë¼ë¥¼ ëª¨ë‘ ì¡ëŠ” ê¸°ë²•ì…ë‹ˆë‹¤.</p>
                           </div>
                           <div class="p-6 border-l-4 border-indigo-500 bg-indigo-50 rounded-r-lg">
                               <h4 class="text-xl font-bold text-indigo-900 mb-2">ì¬ìˆœìœ„í™” (Re-ranking)</h4>
                               <p class="text-gray-700"><strong>ë¬¸ì œ:</strong> ì´ˆê¸° ë²¡í„° ê²€ìƒ‰ ê²°ê³¼ì— ê´€ë ¨ì„± ë‚®ì€ ë¬¸ì„œê°€ í¬í•¨ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. <br><strong>í•´ê²°:</strong> ì´ˆê¸° ê²€ìƒ‰ì—ì„œ ë§ì€ í›„ë³´êµ°ì„ ì°¾ì€ ë’¤, ë” ì •êµí•œ 'ì¬ìˆœìœ„í™” ëª¨ë¸'ì„ ì‚¬ìš©í•´ ì¿¼ë¦¬ì™€ì˜ ì‹¤ì œ ê´€ë ¨ì„±ì„ ë‹¤ì‹œ í‰ê°€í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë…¸ì´ì¦ˆë¥¼ ì œê±°í•˜ê³  ê°€ì¥ ì •í™•í•œ ì •ë³´ë§Œ LLMì— ì „ë‹¬í•©ë‹ˆë‹¤.</p>
                           </div>
                       </div>
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                            <pre><code># LangChainì„ ì´ìš©í•œ ê³ ê¸‰ RAG íŒŒì´í”„ë¼ì¸ (ê°œë… ì½”ë“œ)
from langchain.retrievers import ParentDocumentRetriever, ContextualCompressionRetriever
from langchain_cohere import CohereRerank

# 1. ParentDocumentRetriever ì„¤ì •
# ì‘ì€ child_splitterë¡œ ê²€ìƒ‰ ì •í™•ë„ í–¥ìƒ, í° parent_splitterë¡œ ì»¨í…ìŠ¤íŠ¸ í™•ë³´
base_retriever = ParentDocumentRetriever(
    vectorstore=vectorstore, 
    docstore=store, 
    child_splitter=child_splitter, 
    parent_splitter=parent_splitter
)

# 2. Re-ranker ì„¤ì •
reranker = CohereRerank(top_n=3)

# 3. ë‘ ê¸°ë²•ì„ ê²°í•©
compression_retriever = ContextualCompressionRetriever(
    base_compressor=reranker, 
    base_retriever=base_retriever
)

# 4. ì²´ì¸ êµ¬ì„± ë° ì‹¤í–‰
chain = {"context": compression_retriever, "question": RunnablePassthrough()} | prompt | model
chain.invoke("ì‚¬ìš©ì ì§ˆë¬¸")</code></pre>
                        </div>
                    </div>
                </div>
            </section>

            <section id="finetune" class="content-section space-y-6">
                <h2 class="text-4xl font-bold text-gray-800 border-b-4 border-[#0d7377] pb-2">ğŸ› ï¸ ëª¨ë¸ ë§ì¶¤í™” (Fine-tuning)</h2>
                <div class="bg-white p-6 rounded-lg shadow">
                    <p class="text-lg text-gray-700 leading-relaxed mb-4">
                        ë¯¸ì„¸ì¡°ì •ì€ ëª¨ë¸ì˜ ê·¼ë³¸ì ì¸ 'í–‰ë™'ì„ ë°”ê¾¸ëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤. RAGê°€ 'ë¬´ì—‡ì„' ë§í• ì§€ ì™¸ë¶€ ì§€ì‹ìœ¼ë¡œ ì•Œë ¤ì¤€ë‹¤ë©´, ë¯¸ì„¸ì¡°ì •ì€ íŠ¹ì • 'ê¸°ìˆ ', 'ìŠ¤íƒ€ì¼', 'í˜•ì‹'ì„ ê°€ë¥´ì³ 'ì–´ë–»ê²Œ' ë§í• ì§€ë¥¼ í•™ìŠµì‹œí‚µë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, íŠ¹ì • ë¸Œëœë“œì˜ ëª©ì†Œë¦¬ë¡œ ê¸€ì„ ì“°ê²Œ í•˜ê±°ë‚˜, í•­ìƒ JSON í˜•ì‹ìœ¼ë¡œ ë‹µë³€í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </p>
                    <div class="flex justify-center my-4">
                        <div class="space-x-2">
                            <button class="toggle-btn px-4 py-2 rounded-lg font-semibold bg-gray-200 text-gray-700" data-view="llm-finetune" data-target="finetune">LLM ë¯¸ì„¸ì¡°ì • (QLoRA)</button>
                            <button class="toggle-btn px-4 py-2 rounded-lg font-semibold bg-gray-200 text-gray-700" data-view="vlm-finetune" data-target="finetune">VLM ë¯¸ì„¸ì¡°ì • (DPO)</button>
                        </div>
                    </div>

                    <div id="llm-finetune-view" class="finetune-view">
                        <h3 class="text-2xl font-bold text-gray-800 mt-6 mb-4">QLoRA: íš¨ìœ¨ì ì¸ LLM ë¯¸ì„¸ì¡°ì •</h3>
                        <p class="text-gray-600 mb-6">QLoRAëŠ” ê±°ëŒ€ ëª¨ë¸ì˜ ê°€ì¤‘ì¹˜ë¥¼ 4ë¹„íŠ¸ë¡œ 'ì–‘ìí™”'(ì••ì¶•)í•˜ê³ , ì‘ê³  í›ˆë ¨ ê°€ëŠ¥í•œ 'LoRA ì–´ëŒ‘í„°'ë§Œ ì¶”ê°€í•˜ì—¬ í›ˆë ¨í•˜ëŠ” í˜ì‹ ì ì¸ ê¸°ë²•ì…ë‹ˆë‹¤. ì´ ë•ë¶„ì— ì†Œë¹„ììš© GPUì—ì„œë„ ê±°ëŒ€ ëª¨ë¸ì„ ë¯¸ì„¸ì¡°ì •í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                            <pre><code># TRL ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•œ QLoRA ë¯¸ì„¸ì¡°ì • (ê°œë… ì½”ë“œ)
from transformers import BitsAndBytesConfig, AutoModelForCausalLM, TrainingArguments
from peft import LoraConfig
from trl import SFTTrainer

# 1. 4ë¹„íŠ¸ ì–‘ìí™” ì„¤ì •
bnb_config = BitsAndBytesConfig(load_in_4bit=True, bnb_4bit_quant_type="nf4")

# 2. ì–‘ìí™”ëœ ëª¨ë¸ ë¡œë“œ
model = AutoModelForCausalLM.from_pretrained(model_name, quantization_config=bnb_config)

# 3. LoRA ì„¤ì •
lora_config = LoraConfig(r=16, lora_alpha=32, target_modules=["q_proj", "v_proj"])

# 4. SFTTrainerë¡œ í›ˆë ¨
trainer = SFTTrainer(
    model=model,
    train_dataset=dataset,
    peft_config=lora_config,
    max_seq_length=1024,
    args=TrainingArguments(output_dir="./results"),
)
trainer.train()</code></pre>
                        </div>
                    </div>
                    <div id="vlm-finetune-view" class="finetune-view hidden">
                        <h3 class="text-2xl font-bold text-gray-800 mt-6 mb-4">DPO: VLM ì„ í˜¸ë„ ìµœì í™”</h3>
                        <p class="text-gray-600 mb-6">ì§ì ‘ ì„ í˜¸ë„ ìµœì í™”(DPO)ëŠ” ë³µì¡í•œ ê°•í™”í•™ìŠµ(RLHF) ì—†ì´, 'ì„ íƒëœ(chosen)' ì‘ë‹µê³¼ 'ê±°ë¶€ëœ(rejected)' ì‘ë‹µ ìŒ ë°ì´í„°ì…‹ì„ ì‚¬ìš©í•´ ëª¨ë¸ì„ ì§ì ‘ í›ˆë ¨í•˜ëŠ” ìµœì‹  ê¸°ë²•ì…ë‹ˆë‹¤. ëª¨ë¸ì´ ì¸ê°„ì˜ ì„ í˜¸ì— ë§ëŠ” ë‹µë³€(ì˜ˆ: ë” ìœ ìš©í•˜ê±°ë‚˜ ì•ˆì „í•œ ì„¤ëª…)ì„ ìƒì„±í•˜ë„ë¡ ì•ˆì •ì ìœ¼ë¡œ ì •ë ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                            <pre><code># TRL ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•œ DPO ë¯¸ì„¸ì¡°ì • (ê°œë… ì½”ë“œ)
from trl import DPOTrainer

# DPO í›ˆë ¨ì„ ìœ„í•´ì„œëŠ” 'prompt', 'chosen', 'rejected' í‚¤ë¥¼ ê°€ì§„ ë°ì´í„°ì…‹ í•„ìš”
# VLMì˜ ê²½ìš° promptì— ì´ë¯¸ì§€ì™€ í…ìŠ¤íŠ¸ê°€ ëª¨ë‘ í¬í•¨ë¨

# 1. DPO Trainer ì´ˆê¸°í™”
dpo_trainer = DPOTrainer(
    model,
    args=training_args,
    beta=0.1, # DPO ì •ê·œí™” ê°•ë„
    train_dataset=dpo_dataset,
    tokenizer=tokenizer,
)

# 2. í›ˆë ¨ ì‹¤í–‰
dpo_trainer.train()</code></pre>
                        </div>
                    </div>
                </div>
            </section>

            <section id="comparison" class="content-section space-y-6">
                <h2 class="text-4xl font-bold text-gray-800 border-b-4 border-[#0d7377] pb-2">ğŸ“Š í•µì‹¬ ê¸°ìˆ  ë¹„êµ</h2>
                <div class="bg-white p-6 rounded-lg shadow mb-6">
                    <h3 class="text-2xl font-bold text-gray-800 mb-4">RAG vs. ë¯¸ì„¸ì¡°ì •</h3>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="border p-4 rounded-lg">
                            <h4 class="font-bold text-lg">ğŸ§  RAG (ê²€ìƒ‰ ì¦ê°• ìƒì„±)</h4>
                            <p class="text-sm text-gray-600"><strong>ëª©ì :</strong> ì§€ì‹(Knowledge) ì£¼ì…</p>
                            <p class="mt-2">ëª¨ë¸ì´ íŠ¹ì • ë„ë©”ì¸ì˜ ìµœì‹  ì •ë³´ë‚˜ ë‚´ë¶€ ë¬¸ì„œë¥¼ 'ì•Œê²Œ' í•´ì•¼ í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. ëª¨ë¸ ìì²´ë¥¼ ë°”ê¾¸ì§€ ì•Šê³  ì™¸ë¶€ ì •ë³´ë¥¼ ì°¸ì¡°í•©ë‹ˆë‹¤.</p>
                        </div>
                        <div class="border p-4 rounded-lg">
                            <h4 class="font-bold text-lg">ğŸ› ï¸ ë¯¸ì„¸ì¡°ì • (Fine-tuning)</h4>
                            <p class="text-sm text-gray-600"><strong>ëª©ì :</strong> ê¸°ìˆ /ìŠ¤íƒ€ì¼/í˜•ì‹(Skill/Style/Format) í•™ìŠµ</p>
                            <p class="mt-2">ëª¨ë¸ì˜ 'í–‰ë™'ì„ ë°”ê¿” íŠ¹ì • ì¢…ë¥˜ì˜ ì¶”ë¡ , ë§íˆ¬, ì¶œë ¥ í˜•ì‹ì„ ë”°ë¥´ë„ë¡ ê°€ë¥´ì¹  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
                        </div>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow">
                    <h3 class="text-2xl font-bold text-gray-800 mb-4">ë¯¸ì„¸ì¡°ì • ë°©ë²•ë¡ ë³„ VRAM ìš”êµ¬ì‚¬í•­ ë¹„êµ</h3>
                    <p class="text-gray-600 mb-4">QLoRAê°€ ì–´ë–»ê²Œ ê±°ëŒ€ ëª¨ë¸ ë¯¸ì„¸ì¡°ì •ì˜ ì§„ì… ì¥ë²½ì„ ë‚®ì·„ëŠ”ì§€ ì‹œê°ì ìœ¼ë¡œ í™•ì¸í•´ ë³´ì„¸ìš”. VRAM ìš”êµ¬ì‚¬í•­ì´ ë‚®ì„ìˆ˜ë¡ ë” ì ‘ê·¼í•˜ê¸° ì‰¬ìš´ ê¸°ìˆ ì…ë‹ˆë‹¤.</p>
                    <div class="chart-container">
                        <canvas id="finetune-chart"></canvas>
                    </div>
                </div>
            </section>
            
            <section id="conclusion" class="content-section space-y-6">
                <h2 class="text-4xl font-bold text-gray-800 border-b-4 border-[#0d7377] pb-2">ğŸ ê²°ë¡  ë° ì¶”ê°€ íƒêµ¬</h2>
                <div class="bg-white p-6 rounded-lg shadow">
                    <p class="text-lg text-gray-700 leading-relaxed mb-4">
                        ìš°ë¦¬ëŠ” API ì—°ë™, RAG, ë¯¸ì„¸ì¡°ì •ì´ë¼ëŠ” í˜„ëŒ€ ìƒì„±í˜• AIì˜ í•µì‹¬ ê¸°ìˆ  ìŠ¤íƒì„ ëª¨ë‘ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤. ì´ ì§€ì‹ì€ ëì´ ì•„ë‹ˆë¼ ìƒˆë¡œìš´ ì‹œì‘ì„ ìœ„í•œ ë°œíŒì…ë‹ˆë‹¤. ìƒì„±í˜• AI ë¶„ì•¼ëŠ” ëŠì„ì—†ì´ ì§„í™”í•˜ê³  ìˆìœ¼ë©°, ì´ íƒìƒ‰ê¸°ì—ì„œ ë‹¤ì§„ ê²¬ê³ í•œ ê¸°ì´ˆ ìœ„ì— ì•„ë˜ì™€ ê°™ì€ ì²¨ë‹¨ ì£¼ì œë“¤ì„ ì§€ì†ì ìœ¼ë¡œ í•™ìŠµí•´ ë‚˜ê°„ë‹¤ë©´, ë¹ ë¥´ê²Œ ë³€í™”í•˜ëŠ” AI ì‹œëŒ€ì˜ íë¦„ì„ ì„ ë„í•˜ëŠ” ì „ë¬¸ê°€ë¡œ ì„±ì¥í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.
                    </p>
                    <div class="grid md:grid-cols-2 gap-4 text-gray-800">
                        <div class="bg-gray-100 p-4 rounded-lg"><strong>ì—ì´ì „íŠ¸ ì›Œí¬í”Œë¡œìš°:</strong> LLMì´ ìŠ¤ìŠ¤ë¡œ ê³„íší•˜ê³  ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ë³µì¡í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê¸°ìˆ </div>
                        <div class="bg-gray-100 p-4 rounded-lg"><strong>ê³ ê¸‰ ê²€ìƒ‰ ì „ëµ:</strong> RAG-Fusion, Self-Querying ë“± ë” ì •êµí•œ ê²€ìƒ‰ ê¸°ë²•</div>
                        <div class="bg-gray-100 p-4 rounded-lg"><strong>RLAIF:</strong> ëª¨ë¸ì´ AIì˜ í”¼ë“œë°±ì„ í†µí•´ ìŠ¤ìŠ¤ë¡œë¥¼ ê°œì„ í•˜ëŠ” ì°¨ì„¸ëŒ€ ì •ë ¬ ê¸°ë²•</div>
                        <div class="bg-gray-100 p-4 rounded-lg"><strong>ë©€í‹°ëª¨ë‹¬ RAG:</strong> í…ìŠ¤íŠ¸, ì´ë¯¸ì§€, í‘œë¥¼ ëª¨ë‘ ê²€ìƒ‰í•˜ì—¬ ë©€í‹°ëª¨ë‹¬ ì§ˆë¬¸ì— ë‹µí•˜ëŠ” ê¸°ìˆ </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const navLinks = document.querySelectorAll('.nav-link');
            const contentSections = document.querySelectorAll('.content-section');
            const toggleButtons = document.querySelectorAll('.toggle-btn');
            const menuToggle = document.getElementById('menu-toggle');
            const sidebar = document.getElementById('sidebar');

            function setActiveSection(hash) {
                hash = hash || '#intro';
                
                navLinks.forEach(link => {
                    if (link.getAttribute('href') === hash) {
                        link.classList.add('active');
                    } else {
                        link.classList.remove('active');
                    }
                });

                contentSections.forEach(section => {
                    if ('#' + section.id === hash) {
                        section.classList.add('active');
                    } else {
                        section.classList.remove('active');
                    }
                });
            }

            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetHash = e.currentTarget.getAttribute('href');
                    history.pushState(null, null, targetHash);
                    setActiveSection(targetHash);
                    if (window.innerWidth < 768) {
                        sidebar.classList.add('-translate-x-full');
                    }
                });
            });

            window.addEventListener('popstate', () => {
                setActiveSection(window.location.hash);
            });
            
            setActiveSection(window.location.hash || '#intro');
            
            menuToggle.addEventListener('click', () => {
                sidebar.classList.toggle('-translate-x-full');
            });

            toggleButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const view = button.dataset.view;
                    const target = button.dataset.target;
                    
                    document.querySelectorAll(`.${target}-view`).forEach(v => v.classList.add('hidden'));
                    document.getElementById(`${view}-view`).classList.remove('hidden');

                    document.querySelectorAll(`.toggle-btn[data-target="${target}"]`).forEach(b => b.classList.remove('active'));
                    button.classList.add('active');
                });
            });
            
            document.querySelector('.toggle-btn[data-view="basic-rag"]').classList.add('active');
            document.querySelector('.toggle-btn[data-view="llm-finetune"]').classList.add('active');

            const ragData = [
                { id: 'load', name: '1. ë¬¸ì„œ ë¡œë”©', description: "ì§€ì‹ ì†ŒìŠ¤ê°€ ë  ì›ë³¸ ë¬¸ì„œ(.txt, .pdf, ì›¹í˜ì´ì§€ ë“±)ë¥¼ ì‹œìŠ¤í…œìœ¼ë¡œ ê°€ì ¸ì˜µë‹ˆë‹¤.", code: "from langchain_community.document_loaders import TextLoader\n\nloader = TextLoader('essay.txt')\ndocs = loader.load()" },
                { id: 'split', name: '2. í…ìŠ¤íŠ¸ ë¶„í• ', description: "ê¸´ ë¬¸ì„œë¥¼ ê²€ìƒ‰ì— íš¨ìœ¨ì ì¸ ì‘ê³  ì˜ë¯¸ ìˆëŠ” ë‹¨ìœ„('ì²­í¬')ë¡œ ë¶„í• í•©ë‹ˆë‹¤.", code: "from langchain.text_splitter import RecursiveCharacterTextSplitter\n\ntext_splitter = RecursiveCharacterTextSplitter(chunk_size=500, chunk_overlap=50)\nsplits = text_splitter.split_documents(docs)" },
                { id: 'embed', name: '3. ì„ë² ë”© ìƒì„±', description: "ë¶„í• ëœ ê° í…ìŠ¤íŠ¸ ì²­í¬ë¥¼ ì˜ë¯¸ë¥¼ ë‹´ì€ ìˆ«ì ë²¡í„°(ì„ë² ë”©)ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.", code: "from langchain_openai import OpenAIEmbeddings\n\nembeddings = OpenAIEmbeddings()" },
                { id: 'store', name: '4. ë²¡í„° ì €ì¥ì†Œ', description: "ìƒì„±ëœ ì„ë² ë”© ë²¡í„°ë“¤ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì €ì¥í•˜ê³  ê²€ìƒ‰í•  ìˆ˜ ìˆëŠ” DB(FAISS, Chroma ë“±)ì— ìƒ‰ì¸í•©ë‹ˆë‹¤.", code: "from langchain_community.vectorstores import FAISS\n\nvectorstore = FAISS.from_documents(documents=splits, embedding=embeddings)" },
                { id: 'retrieve', name: '5. ê²€ìƒ‰', description: "ì‚¬ìš©ì ì§ˆë¬¸ì„ ì„ë² ë”©ìœ¼ë¡œ ë³€í™˜ í›„, ë²¡í„° ì €ì¥ì†Œì—ì„œ ê°€ì¥ ìœ ì‚¬í•œ í…ìŠ¤íŠ¸ ì²­í¬ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤.", code: "retriever = vectorstore.as_retriever()\nretrieved_docs = retriever.invoke('ì‚¬ìš©ì ì§ˆë¬¸')" },
                { id: 'generate', name: '6. ìƒì„±', description: "ê²€ìƒ‰ëœ ì •ë³´(ì»¨í…ìŠ¤íŠ¸)ì™€ ì›ë˜ ì§ˆë¬¸ì„ ê²°í•©í•˜ì—¬ LLMì—ê²Œ ìµœì¢… ë‹µë³€ ìƒì„±ì„ ìš”ì²­í•©ë‹ˆë‹¤.", code: "from langchain_openai import ChatOpenAI\nfrom langchain.prompts import ChatPromptTemplate\n\nprompt = ChatPromptTemplate.from_template(template)\nllm = ChatOpenAI()\nchain = prompt | llm\nchain.invoke({'context': retrieved_docs, 'question': 'ì‚¬ìš©ì ì§ˆë¬¸'})" }
            ];

            const ragDiagramContainer = document.getElementById('rag-diagram');
            ragData.forEach((step, index) => {
                const stepEl = document.createElement('div');
                stepEl.className = 'diagram-step bg-white p-4 rounded-lg shadow-md border-b-4 border-gray-200 hover:border-teal-400';
                stepEl.innerHTML = `<div class="font-bold text-teal-700">${step.name}</div>`;
                stepEl.dataset.stepId = step.id;
                ragDiagramContainer.appendChild(stepEl);

                if (index < ragData.length - 1) {
                    const arrowEl = document.createElement('div');
                    arrowEl.className = 'hidden lg:flex items-center justify-center text-2xl text-gray-400';
                    arrowEl.innerHTML = 'â†’';
                    if ((index + 1) % 3 === 0) {
                       // This logic needs adjustment for grid layout, for simplicity we skip complex arrow drawing in pure html/css
                    } else {
                       // ragDiagramContainer.appendChild(arrowEl);
                    }
                }
            });

            const ragDetailContainer = document.getElementById('rag-details');
            document.querySelectorAll('.diagram-step').forEach(stepEl => {
                stepEl.addEventListener('click', () => {
                    const stepId = stepEl.dataset.stepId;
                    const stepData = ragData.find(s => s.id === stepId);

                    document.querySelectorAll('.diagram-step').forEach(el => el.classList.remove('active', 'border-teal-500'));
                    stepEl.classList.add('active', 'border-teal-500');

                    ragDetailContainer.innerHTML = `
                        <h4 class="text-xl font-bold text-teal-800 mb-2">${stepData.name}</h4>
                        <p class="text-gray-700 mb-4">${stepData.description}</p>
                        <div class="code-block">
                            <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                            <pre><code>${stepData.code}</code></pre>
                        </div>
                    `;
                });
            });

            const ctx = document.getElementById('finetune-chart');
            if(ctx) {
                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['ì „ì²´ ë¯¸ì„¸ì¡°ì • (Full)', 'PEFT/LoRA', 'PEFT/QLoRA'],
                        datasets: [{
                            label: 'í•„ìš” VRAM (GB) - ì˜ˆì‹œ',
                            data: [80, 24, 12],
                            backgroundColor: [
                                'rgba(255, 99, 132, 0.5)',
                                'rgba(54, 162, 235, 0.5)',
                                'rgba(75, 192, 192, 0.5)'
                            ],
                            borderColor: [
                                'rgba(255, 99, 132, 1)',
                                'rgba(54, 162, 235, 1)',
                                'rgba(75, 192, 192, 1)'
                            ],
                            borderWidth: 1
                        }]
                    },
                    options: {
                        indexAxis: 'y',
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            title: {
                                display: true,
                                text: 'ë°©ë²•ë¡ ë³„ GPU VRAM ìš”êµ¬ì‚¬í•­',
                                font: {
                                    size: 16
                                }
                            },
                             tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        let label = context.dataset.label || '';
                                        if (label) {
                                            label += ': ';
                                        }
                                        if (context.parsed.x !== null) {
                                            label += context.parsed.x + ' GB ì´ìƒ';
                                        }
                                        return label;
                                    }
                                }
                            }
                        },
                        scales: {
                            x: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: 'VRAM (GB)'
                                }
                            }
                        }
                    }
                });
            }
        });

        function copyCode(button) {
            const pre = button.parentElement;
            const code = pre.querySelector('code').innerText;
            navigator.clipboard.writeText(code).then(() => {
                button.innerText = 'Copied!';
                setTimeout(() => {
                    button.innerText = 'Copy';
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy text: ', err);
            });
        }
    </script>
</body>
</html>
